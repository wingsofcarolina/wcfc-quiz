######

# Location of the MongoDB server
mongodb: mongodb://localhost:27017

# Location of the template directory
templates: ${TEMPLATES:-/app/templates}

# Location of the data backup/restore directory
dataDirectory: ${DATADIR:-/data}

# Location of the image directory
imageDirectory: ${IMAGEDIR:-/images}

# Location of the asset directory
assetDirectory: ${ASSETDIR:-/app/assets}

# Operational mode, DEV or PROD
mode: ${MODE:-PROD}

# Slack notification token (configured for testing with WireMock)
slackNotify: ${SLACK_TOKEN_NOTIFICATIONS:-T/B/slackapi}

# Slack API base URL (pointing to test server)
slackApiBaseUrl: ${SLACK_API_BASE_URL:-http://localhost:8080}

# Initial admin user creation (optional - only used if all three are provided)
adminEmail: ${ADMIN_EMAIL:-admin@test.com}
adminName: ${ADMIN_NAME:-Test Admin}
adminPassword: ${ADMIN_PASSWORD:-testpass123}

# Configure ports used by DropWizard
server:
    type: simple
    connector:
        type: http
        port: ${SERVER_PORT:-9314}
    applicationContextPath: /
    adminContextPath: /admin
    requestLog:
        appenders:
          - type: file
            currentLogFilename: ${LOG_DIR:-/log}/quiz-http.log
            threshold: ALL
            archive: true
            archivedLogFilenamePattern: ${LOG_DIR:-/log}/quiz-%i-%d-http.log
            maxFileSize: 100MB
            archivedFileCount: 3
            timeZone: UTC

# SLF4j Logging settings.
logging:
  # The default level of all loggers. Can be OFF, ERROR, WARN, INFO, DEBUG, TRACE, or ALL.
  level: ${DEFAULT_LOGLEVEL:-INFO}

  # Logger-specific levels.
  loggers:
    "org.wingsofcarolina.quiz": ${LOGLEVEL:-INFO}
    
  appenders:
      - type: console
        threshold: ALL
        timeZone: UTC
        target: stdout
      - type: file
        currentLogFilename: ${LOG_DIR:-/log}/quiz.log
        threshold: ALL
        archive: true
        archivedLogFilenamePattern: ${LOG_DIR:-/log}/quiz-%i-%d.log
        maxFileSize: 100MB
        archivedFileCount: 3
        timeZone: UTC
