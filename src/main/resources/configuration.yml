######

# MongoDB connection string
# Full MongoDB connection string including protocol, host, port, and database options
# Example: mongodb://localhost:27017 or mongodb://user:pass@host:port/database
mongodb: ${MONGODB:-mongodb://mongodb:27017}

# Location of the template directory
templates: ${TEMPLATES:-./templates}

# Location of the data backup/restore directory
dataDirectory: ${DATADIR:-/data}

# Location of the image directory
imageDirectory: ${IMAGEDIR:-/images}

# Location of the asset directory
assetDirectory: ${ASSETDIR:-./assets/}

# Operational mode, DEV or PROD
mode: ${MODE:-PROD}

# Slack notification token (can reuse SLACK_TOKEN_NOTIFICATIONS from other apps)
slackNotify: ${SLACK_TOKEN_NOTIFICATIONS:-none}

# Slack API base URL (configurable for testing)
slackApiBaseUrl: ${SLACK_API_BASE_URL:-https://hooks.slack.com}

# Initial admin user creation (optional - only used if all three are provided)
adminEmail: ${ADMIN_EMAIL}
adminName: ${ADMIN_NAME}
adminPassword: ${ADMIN_PASSWORD}

# Configure ports used by DropWizard
server:
    type: simple
    connector:
        type: http
        port: ${SERVER_PORT:-9314}
    applicationContextPath: /
    adminContextPath: /admin
    requestLog:
        appenders:
          - type: file
            currentLogFilename: ${LOG_DIR:-/log}/quiz-http.log
            threshold: ALL
            archive: true
            archivedLogFilenamePattern: ${LOG_DIR:-/log}/quiz-%i-%d-http.log
            maxFileSize: 100MB
            archivedFileCount: 3
            timeZone: UTC


# SLF4j Logging settings.
logging:
  # The default level of all loggers. Can be OFF, ERROR, WARN, INFO, DEBUG, TRACE, or ALL.
  level: ${DEFAULT_LOGLEVEL:-INFO}

  # Logger-specific levels.
  loggers:
    "org.wingsofcarolina.quiz": ${LOGLEVEL:-INFO}
    
  appenders:
      - type: console
        threshold: ALL
        timeZone: UTC
        target: stdout
      - type: file
        currentLogFilename: ${LOG_DIR:-/log}/quiz.log
        threshold: ALL
        archive: true
        archivedLogFilenamePattern: ${LOG_DIR:-/log}/quiz-%i-%d.log
        maxFileSize: 100MB
        archivedFileCount: 3
        timeZone: UTC